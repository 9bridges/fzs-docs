"use strict";(globalThis.webpackChunkfzs_docs=globalThis.webpackChunkfzs_docs||[]).push([[7087],{3435(e,s,r){r.r(s),r.d(s,{assets:()=>a,contentTitle:()=>d,default:()=>b,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"fzs-web-server/api/logs","title":"\u83b7\u53d6\u6570\u636e\u94fe\u8def\u65e5\u5fd7","description":"\u8be5\u63a5\u53e3\u53ef\u4ee5\u83b7\u53d6 FZS Agent \u7684\u589e\u5b9e\u65f6\u8fd0\u884c\u65e5\u5fd7\u3002","source":"@site/docs/fzs-web-server/api/logs.md","sourceDirName":"fzs-web-server/api","slug":"/fzs-web-server/api/logs","permalink":"/fzs-web-server/api/logs","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"hbk671104","lastUpdatedAt":1769871211000,"sidebarPosition":14,"frontMatter":{"sidebar_position":14},"sidebar":"tutorialSidebar","previous":{"title":"\u83b7\u53d6\u6570\u636e\u94fe\u8def\u589e\u91cf\u8ba1\u6570","permalink":"/fzs-web-server/api/count"},"next":{"title":"\u6e05\u9664\u94fe\u8def\u9519\u8bef\u65e5\u5fd7","permalink":"/fzs-web-server/api/reset-error"}}');var n=r(4848),i=r(8453);const l={sidebar_position:14},d="\u83b7\u53d6\u6570\u636e\u94fe\u8def\u65e5\u5fd7",a={},c=[{value:"\u8bf7\u6c42 URI",id:"\u8bf7\u6c42-uri",level:3},{value:"\u53c2\u6570\u8bf4\u660e",id:"\u53c2\u6570\u8bf4\u660e",level:3},{value:"\u4f7f\u7528\u6837\u4f8b",id:"\u4f7f\u7528\u6837\u4f8b",level:3},{value:"\u54cd\u5e94\u4f53\u683c\u5f0f",id:"\u54cd\u5e94\u4f53\u683c\u5f0f",level:3}];function o(e){const s={code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"\u83b7\u53d6\u6570\u636e\u94fe\u8def\u65e5\u5fd7",children:"\u83b7\u53d6\u6570\u636e\u94fe\u8def\u65e5\u5fd7"})}),"\n",(0,n.jsx)(s.p,{children:"\u8be5\u63a5\u53e3\u53ef\u4ee5\u83b7\u53d6 FZS Agent \u7684\u589e\u5b9e\u65f6\u8fd0\u884c\u65e5\u5fd7\u3002"}),"\n",(0,n.jsx)(s.h3,{id:"\u8bf7\u6c42-uri",children:"\u8bf7\u6c42 URI"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"POST /logs"})}),"\n",(0,n.jsx)(s.h3,{id:"\u53c2\u6570\u8bf4\u660e",children:"\u53c2\u6570\u8bf4\u660e"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'{\n  "id": "string"\n}\n'})}),"\n",(0,n.jsx)(s.p,{children:"\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"\u53c2\u6570\u540d"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"\u8bf4\u660e"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"id"})})}),(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,n.jsx)(s.code,{children:"STRING"})," \u7c7b\u578b\uff0cFZS Agent ID\u3002"]})]})})]}),"\n",(0,n.jsx)(s.h3,{id:"\u4f7f\u7528\u6837\u4f8b",children:"\u4f7f\u7528\u6837\u4f8b"}),"\n",(0,n.jsxs)(s.p,{children:["\u4ee5\u4e0b\u8bf7\u6c42\u4f1a\u83b7\u53d6 ID \u4e3a ",(0,n.jsx)(s.code,{children:"8AouMB"})," \u7684 FZS Agent \u7684\u5b9e\u65f6\u8fd0\u884c\u65e5\u5fd7\u3002"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:'curl -i -X POST \\\n   -H "Content-Type:application/json" \\\n   -d \\\n\'{\n  "id": "8AouMB"\n}\' \\\n \'http://172.21.16.4:48081/logs\'\n'})}),"\n",(0,n.jsx)(s.h3,{id:"\u54cd\u5e94\u4f53\u683c\u5f0f",children:"\u54cd\u5e94\u4f53\u683c\u5f0f"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'{\n  "infoMsg": "20047 BLK:19 BLKOFF:0 MEM:0 CNT:22<br/>2023-11-07 13:55:27.353 INFO   - ANA REDO RETURN:LOG_NEED_AGAIN<br/>2023-11-07 13:55:27.353 INFO   - th:1 scn_max:b2a4b1e scn_sub_max:1<br/>2023-11-07 13:55:27.353 INFO   - stream clean out size:515 pay time : 2us<br/>2023-11-07 13:55:27.353 INFO   - merge (pay time:38us)<br/>2023-11-07 13:55:27.353 INFO   - export 1 process tgtid = 1, IRP = 1, DRP = 1, URP = 1, QMI = 0, DDL = 0, TRANS = 3, SCN_TIME:2023-11-07 13:55:24)<br/>2023-11-07 13:55:27.353 INFO   - SHOULD SAVE 0 NOT OUTPUT CMT TRANS TO DISK, NEED NOT SAVE<br/>2023-11-07 13:55:27.353 INFO   - SAVED 0 CMT AND UNCMT TRANS TO DISK BEFORE NEXT ANALYSIS<br/>2023-11-07 13:55:27.353 INFO   - th_deal:0x1<br/>2023-11-07 13:55:27.354 INFO   - th:1 scn_max:b2a4b1e scn_sub_max:1<br/>2023-11-07 13:55:27.354 INFO   - th_deal:0x1<br/>2023-11-07 13:55:27.354 INFO   - HAS NO CHANGE<br/>2023-11-07 13:55:27.853 INFO   - there is no incl data kd_buf_list_size:551<br/>2023-11-07 13:55:27.853 INFO   - kd_buf_list_size:551<br/>2023-11-07 13:55:27.854 INFO   - export 1 tgt 1 File Created:/home/fzs/web-server/fzsweb/run/fzs/fzs8AouMB/run/fzs_src/1/1/1861.fzs (Size = 551)<br/>2023-11-07 13:55:27.854 INFO   - write stream to file(pay time:165us)<br/>2023-11-07 13:55:27.854 INFO   - send tgt 1 incl 0 file:/home/fzs/web-server/fzsweb/run/fzs/fzs8AouMB/run/fzs_src/1/1/1861.fzs size:551 finished<br/>2023-11-07 13:55:28.355 INFO   - th:1 scn_max:b2a4b1e scn_sub_max:1<br/>2023-11-07 13:55:28.355 INFO   - th_deal:0x1<br/>2023-11-07 13:55:28.355 INFO   - HAS NO CHANGE<br/>2023-11-07 13:55:29.356 INFO   - th:1 scn_max:b2a4b1e scn_sub_max:1<br/>2023-11-07 13:55:29.356 INFO   - th_deal:0x1<br/>2023-11-07 13:55:29.356 INFO   - HAS NO CHANGE<br/>2023-11-07 13:55:30.357 INFO   - REDO CHANGE:[/u01/app/oracle/oradata/LHR11G/redo01.log], RAC_ID:1, SEQ:120047, MAX_SEQ:120047, DIFF_SEQ:0, CUR_BLK:19, NEXT_BLK:1253, BLK_OFF:0 LEFLAG:8<br/>2023-11-07 13:55:30.357 INFO   - TH:1 READ SIZE:631808<br/>2023-11-07 13:55:30.358 INFO   - REC TH:1 SEQ:120047 BLK:1253 BLKOFF:0 MEM:0 CNT:2087<br/>2023-11-07 13:55:30.359 INFO   - ANA REDO RETURN:LOG_NEED_AGAIN<br/>2023-11-07 13:55:30.359 INFO   - th:1 scn_max:b2a4b47 scn_sub_max:1<br/>2023-11-07 13:55:30.360 INFO   - stream clean out size:225769 pay time : 129us<br/>2023-11-07 13:55:30.362 INFO   - merge (pay time:1949us)<br/>2023-11-07 13:55:30.362 INFO   - export 1 process tgtid = 1, IRP = 0, DRP = 1000, URP = 1000, QMI = 10, DDL = 0, TRANS = 1, SCN_TIME:2023-11-07 13:55:29)<br/>2023-11-07 13:55:30.362 INFO   - stream clean out size:156 pay time : 0us<br/>2023-11-07 13:55:30.362 INFO   - merge (pay time:70us)<br/>2023-11-07 13:55:30.362 INFO   - export 1 tgt 1 File Created:/home/fzs/web-server/fzsweb/run/fzs/fzs8AouMB/run/fzs_src/1/1/1862.fzs (Size = 205799)<br/>2023-11-07 13:55:30.362 INFO   - write stream to file(pay time:281us)<br/>2023-11-07 13:55:30.362 INFO   - export 1 process tgtid = 1, IRP = 0, DRP = 0, URP = 0, QMI = 0, DDL = 1, TRANS = 1, SCN_TIME:2023-11-07 13:55:29)<br/>2023-11-07 13:55:30.362 INFO   - export 1 tgt 1 File Created:/home/fzs/web-server/fzsweb/run/fzs/fzs8AouMB/run/fzs_src/1/1/1863.fzs (Size = 183)<br/>2023-11-07 13:55:30.363 INFO   - write stream to file(pay time:700us)<br/>2023-11-07 13:55:30.363 INFO   - SHOULD SAVE 0 NOT OUTPUT CMT TRANS TO DISK, NEED NOT SAVE<br/>2023-11-07 13:55:30.363 INFO   - SAVED 0 CMT AND UNCMT TRANS TO DISK BEFORE NEXT ANALYSIS<br/>2023-11-07 13:55:30.364 INFO   - th_deal:0x1<br/>2023-11-07 13:55:30.364 INFO   - th:1 scn_max:b2a4b47 scn_sub_max:1<br/>2023-11-07 13:55:30.364 INFO   - th_deal:0x1<br/>2023-11-07 13:55:30.365 INFO   - HAS NO CHANGE<br/>2023-11-07 13:55:30.367 INFO   - send tgt 1 incl 0 file:/home/fzs/web-server/fzsweb/run/fzs/fzs8AouMB/run/fzs_src/1/1/1862.fzs size:205799 finished<br/>2023-11-07 13:55:30.368 INFO   - send tgt 1 incl 0 file:/home/fzs/web-server/fzsweb/run/fzs/fzs8AouMB/run/fzs_src/1/1/1863.fzs size:183 finished<br/>2023-11-07 13:55:31.365 INFO   - th:1 scn_max:b2a4b47 scn_sub_max:1<br/>2023-11-07 13:55:31.365 INFO   - th_deal:0x1<br/>2023-11-07 13:55:31.366 INFO   - HAS NO CHANGE<br/>2023-11-07 13:55:32.366 INFO   - th:1 scn_max:b2a4b47 scn_sub_max:1<br/>2023-11-07 13:55:32.366 INFO   - th_deal:0x1<br/>2023-11-07 13:55:32.367 INFO   - HAS NO CHANGE<br/><br/>",\n  "errMsg": ""\n}\n'})}),"\n",(0,n.jsx)(s.p,{children:"\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"\u53c2\u6570\u540d"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"\u8bf4\u660e"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"infoMsg"})}),(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,n.jsx)(s.code,{children:"STRING"})," \u7c7b\u578b\uff0cFZS Agent \u7684\u8fd0\u884c\u65e5\u5fd7\u3002"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"errMsg"})}),(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,n.jsx)(s.code,{children:"STRING"})," \u7c7b\u578b\uff0cFZS Agent \u7684\u9519\u8bef\u65e5\u5fd7\u3002"]})]})]})]})]})}function b(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453(e,s,r){r.d(s,{R:()=>l,x:()=>d});var t=r(6540);const n={},i=t.createContext(n);function l(e){const s=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);